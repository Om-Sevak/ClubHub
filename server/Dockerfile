FROM node:18-alpine

WORKDIR /app

COPY package.json .

RUN npm install

COPY . .

EXPOSE 5000

ARG MONGO_URI
ARG SESSION_SECRET
ARG ORIGIN 

ENV MONGO_URI $MONGO_URI
ENV SESSION_SECRET $SESSION_SECRET
ENV ORIGIN $ORIGIN

CMD ["npm", "start"]